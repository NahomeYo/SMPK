{"ast":null,"code":"var _jsxFileName = \"/home/nahomeyo2002/SMPK/src/LiveStream.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport './index.css';\nimport ReactPlayer from 'react-player';\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Header } from './designKit/Navbar.js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function LiveStream(props) {\n  _s();\n  const [video, setVideo] = useState(null);\n  const [latestVid, setLatestVid] = useState(null);\n  const baseUrl = 'https://www.googleapis.com/youtube/v3/search';\n  const channelID = 'UCNzsB3SaHT_KqpX8XeY8Ctg';\n  const apiKey = 'AIzaSyDMyc0DuILGZEvuGsZqiqqWazIGDv5kpw0';\n  async function fetchliveVideo() {\n    try {\n      const response = await fetch(`${baseUrl}?part=snippet&channelId=${channelID}&eventType=live&type=video&key=${apiKey}`);\n      const data = await response.json();\n      console.log('Live video response:', data); // Debug log\n\n      if (data.error) {\n        console.error('API Error:', data.error);\n        return;\n      }\n      if (data.items && data.items.length > 0) {\n        const videoId = data.items[0].id.videoId;\n        const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;\n        setVideo(videoUrl);\n      } else {\n        console.log('No live videos found');\n        setVideo(null);\n      }\n    } catch (error) {\n      console.error('Fetch error:', error);\n    }\n  }\n  async function fetchLatestVideo() {\n    await fetch(`${baseUrl}?part=snippet&channelId=${channelID}&order=date&type=video&key=${apiKey}&maxResults=1`).then(response => response.json()).then(data => {\n      if (data.items && data.items.length > 0) {\n        const videoId = data.items[0].id.videoId;\n        const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;\n        setLatestVid(videoUrl);\n      } else {\n        setLatestVid(null);\n      }\n    });\n  }\n  useEffect(() => {\n    fetchliveVideo();\n    fetchLatestVideo();\n  }, []);\n  const LiveVideo = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 'var(--space)',\n        position: 'relative',\n        width: \"100%\"\n      },\n      children: video ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderRadius: 'var(--border)',\n            position: 'relative'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"Live now!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ReactPlayer, {\n          width: \"100%\",\n          height: \"80vh\",\n          playing: true,\n          controls: true,\n          url: video,\n          config: {\n            youtube: {\n              playerVars: {\n                showinfo: 1,\n                autoplay: 1\n              }\n            }\n          },\n          onError: e => console.error('ReactPlayer error:', e),\n          onReady: () => console.log('Player ready')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n          width: \"100%\",\n          height: \"80vh\",\n          playing: true,\n          url: latestVid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"article\",\n    style: {\n      paddingTop: props.height\n    },\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      textColor: \"var(--sixthly)\",\n      title: \"Livestream\",\n      color: \"var(--sixthly)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LiveVideo, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n}\n_s(LiveStream, \"mqMn0M3JxMCC1hL4/P1kG24KRZU=\");\n_c = LiveStream;\nexport default function init() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: 0,\n      padding: 0\n    },\n    children: /*#__PURE__*/_jsxDEV(LiveStream, {\n      height: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n}\nvar _c;\n$RefreshReg$(_c, \"LiveStream\");","map":{"version":3,"names":["ReactPlayer","React","useEffect","useState","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","LiveStream","props","_s","video","setVideo","latestVid","setLatestVid","baseUrl","channelID","apiKey","fetchliveVideo","response","fetch","data","json","console","log","error","items","length","videoId","id","videoUrl","fetchLatestVideo","then","LiveVideo","style","display","flexDirection","gap","position","width","children","borderRadius","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","height","playing","controls","url","config","youtube","playerVars","showinfo","autoplay","onError","e","onReady","className","paddingTop","textColor","title","color","_c","init","margin","padding","$RefreshReg$"],"sources":["/home/nahomeyo2002/SMPK/src/LiveStream.js"],"sourcesContent":["import './App.css';\nimport './index.css';\nimport ReactPlayer from 'react-player';\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Header } from './designKit/Navbar.js';\n\nexport function LiveStream(props) {\n    const [video, setVideo] = useState(null);\n    const [latestVid, setLatestVid] = useState(null);\n    const baseUrl = 'https://www.googleapis.com/youtube/v3/search';\n    const channelID = 'UCNzsB3SaHT_KqpX8XeY8Ctg';\n    const apiKey = 'AIzaSyDMyc0DuILGZEvuGsZqiqqWazIGDv5kpw0';\n\n    async function fetchliveVideo() {\n        try {\n          const response = await fetch(`${baseUrl}?part=snippet&channelId=${channelID}&eventType=live&type=video&key=${apiKey}`);\n          const data = await response.json();\n          \n          console.log('Live video response:', data); // Debug log\n          \n          if (data.error) {\n            console.error('API Error:', data.error);\n            return;\n          }\n          \n          if (data.items && data.items.length > 0) {\n            const videoId = data.items[0].id.videoId;\n            const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;\n            setVideo(videoUrl);\n          } else {\n            console.log('No live videos found');\n            setVideo(null);\n          }\n        } catch (error) {\n          console.error('Fetch error:', error);\n        }\n      }\n\n    async function fetchLatestVideo() {\n        await fetch(`${baseUrl}?part=snippet&channelId=${channelID}&order=date&type=video&key=${apiKey}&maxResults=1`)\n            .then(response => response.json())\n            .then(data => {\n                if (data.items && data.items.length > 0) {\n                    const videoId = data.items[0].id.videoId;\n                    const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;\n                    setLatestVid(videoUrl)\n                } else {\n                    setLatestVid(null);\n                }\n            })\n\n    }\n\n    useEffect(() => {\n        fetchliveVideo();\n        fetchLatestVideo();\n    }, [])\n\n    const LiveVideo = () => {\n        return (\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--space)', position: 'relative', width: \"100%\" }}>\n                {video ?\n                    <>\n                        <div style={{ borderRadius: 'var(--border)', position: 'relative' }}>\n                            <h2 style={{ textAlign: 'center' }}>Live now!</h2>\n                        </div>\n\n                        <ReactPlayer\n  width=\"100%\"\n  height=\"80vh\"\n  playing={true}\n  controls={true}\n  url={video}\n  config={{\n    youtube: {\n      playerVars: { showinfo: 1, autoplay: 1 }\n    }\n  }}\n  onError={(e) => console.error('ReactPlayer error:', e)}\n  onReady={() => console.log('Player ready')}\n/>\n                    </>\n                    :\n                    <>\n                        <ReactPlayer\n                            width=\"100%\"\n                            height=\"80vh\"\n                            playing={true}\n                            url={latestVid} />\n                    </>\n                }\n            </div>\n        )\n    }\n\n    return (\n        <article className=\"article\" style={{ paddingTop: props.height }} >\n            <Header textColor=\"var(--sixthly)\" title=\"Livestream\" color=\"var(--sixthly)\" />\n            <LiveVideo />\n        </article>\n    )\n}\n\nexport default function init() {\n    return (\n        <div style={{ margin: 0, padding: 0 }}>\n            <LiveStream height=\"\" />\n        </div>\n    )\n}"],"mappings":";;AAAA,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,OAAOA,WAAW,MAAM,cAAc;AACtC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,MAAM,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/C,OAAO,SAASC,UAAUA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC9B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAMa,OAAO,GAAG,8CAA8C;EAC9D,MAAMC,SAAS,GAAG,0BAA0B;EAC5C,MAAMC,MAAM,GAAG,yCAAyC;EAExD,eAAeC,cAAcA,CAAA,EAAG;IAC5B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,2BAA2BC,SAAS,kCAAkCC,MAAM,EAAE,CAAC;MACtH,MAAMI,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAElCC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEH,IAAI,CAAC,CAAC,CAAC;;MAE3C,IAAIA,IAAI,CAACI,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,YAAY,EAAEJ,IAAI,CAACI,KAAK,CAAC;QACvC;MACF;MAEA,IAAIJ,IAAI,CAACK,KAAK,IAAIL,IAAI,CAACK,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;QACvC,MAAMC,OAAO,GAAGP,IAAI,CAACK,KAAK,CAAC,CAAC,CAAC,CAACG,EAAE,CAACD,OAAO;QACxC,MAAME,QAAQ,GAAG,mCAAmCF,OAAO,EAAE;QAC7DhB,QAAQ,CAACkB,QAAQ,CAAC;MACpB,CAAC,MAAM;QACLP,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;QACnCZ,QAAQ,CAAC,IAAI,CAAC;MAChB;IACF,CAAC,CAAC,OAAOa,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACtC;EACF;EAEF,eAAeM,gBAAgBA,CAAA,EAAG;IAC9B,MAAMX,KAAK,CAAC,GAAGL,OAAO,2BAA2BC,SAAS,8BAA8BC,MAAM,eAAe,CAAC,CACzGe,IAAI,CAACb,QAAQ,IAAIA,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC,CACjCU,IAAI,CAACX,IAAI,IAAI;MACV,IAAIA,IAAI,CAACK,KAAK,IAAIL,IAAI,CAACK,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;QACrC,MAAMC,OAAO,GAAGP,IAAI,CAACK,KAAK,CAAC,CAAC,CAAC,CAACG,EAAE,CAACD,OAAO;QACxC,MAAME,QAAQ,GAAG,mCAAmCF,OAAO,EAAE;QAC7Dd,YAAY,CAACgB,QAAQ,CAAC;MAC1B,CAAC,MAAM;QACHhB,YAAY,CAAC,IAAI,CAAC;MACtB;IACJ,CAAC,CAAC;EAEV;EAEAb,SAAS,CAAC,MAAM;IACZiB,cAAc,CAAC,CAAC;IAChBa,gBAAgB,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,SAAS,GAAGA,CAAA,KAAM;IACpB,oBACI5B,OAAA;MAAK6B,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,aAAa,EAAE,QAAQ;QAAEC,GAAG,EAAE,cAAc;QAAEC,QAAQ,EAAE,UAAU;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAC,QAAA,EAC9G7B,KAAK,gBACFN,OAAA,CAAAE,SAAA;QAAAiC,QAAA,gBACInC,OAAA;UAAK6B,KAAK,EAAE;YAAEO,YAAY,EAAE,eAAe;YAAEH,QAAQ,EAAE;UAAW,CAAE;UAAAE,QAAA,eAChEnC,OAAA;YAAI6B,KAAK,EAAE;cAAEQ,SAAS,EAAE;YAAS,CAAE;YAAAF,QAAA,EAAC;UAAS;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC,eAENzC,OAAA,CAACN,WAAW;UAClCwC,KAAK,EAAC,MAAM;UACZQ,MAAM,EAAC,MAAM;UACbC,OAAO,EAAE,IAAK;UACdC,QAAQ,EAAE,IAAK;UACfC,GAAG,EAAEvC,KAAM;UACXwC,MAAM,EAAE;YACNC,OAAO,EAAE;cACPC,UAAU,EAAE;gBAAEC,QAAQ,EAAE,CAAC;gBAAEC,QAAQ,EAAE;cAAE;YACzC;UACF,CAAE;UACFC,OAAO,EAAGC,CAAC,IAAKlC,OAAO,CAACE,KAAK,CAAC,oBAAoB,EAAEgC,CAAC,CAAE;UACvDC,OAAO,EAAEA,CAAA,KAAMnC,OAAO,CAACC,GAAG,CAAC,cAAc;QAAE;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC;MAAA,eACoB,CAAC,gBAEHzC,OAAA,CAAAE,SAAA;QAAAiC,QAAA,eACInC,OAAA,CAACN,WAAW;UACRwC,KAAK,EAAC,MAAM;UACZQ,MAAM,EAAC,MAAM;UACbC,OAAO,EAAE,IAAK;UACdE,GAAG,EAAErC;QAAU;UAAA8B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC,gBACxB;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEN,CAAC;EAEd,CAAC;EAED,oBACIzC,OAAA;IAASsD,SAAS,EAAC,SAAS;IAACzB,KAAK,EAAE;MAAE0B,UAAU,EAAEnD,KAAK,CAACsC;IAAO,CAAE;IAAAP,QAAA,gBAC7DnC,OAAA,CAACF,MAAM;MAAC0D,SAAS,EAAC,gBAAgB;MAACC,KAAK,EAAC,YAAY;MAACC,KAAK,EAAC;IAAgB;MAAApB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC/EzC,OAAA,CAAC4B,SAAS;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAElB;AAACpC,EAAA,CA/FeF,UAAU;AAAAwD,EAAA,GAAVxD,UAAU;AAiG1B,eAAe,SAASyD,IAAIA,CAAA,EAAG;EAC3B,oBACI5D,OAAA;IAAK6B,KAAK,EAAE;MAAEgC,MAAM,EAAE,CAAC;MAAEC,OAAO,EAAE;IAAE,CAAE;IAAA3B,QAAA,eAClCnC,OAAA,CAACG,UAAU;MAACuC,MAAM,EAAC;IAAE;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvB,CAAC;AAEd;AAAC,IAAAkB,EAAA;AAAAI,YAAA,CAAAJ,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}